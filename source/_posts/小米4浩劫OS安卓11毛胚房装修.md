---
title: 小米4浩劫OS安卓11毛胚房装修
date: 2021-10-12 17:23:18
tags:
- 小米4
- HavocOS
categories: 玩机日常
description: 新买的备用机也使用了一周多了，来记录一下装修过程。
---
***记录贴，非教程*** 

### 前言
&ensp;&ensp;&ensp;&ensp;国庆放假前在某鱼收了台小米4，本打算趁着假期玩一玩，结果收到货时假期已过了一半。确认收货后第二天手机电池就出了问题，因为电压不稳导致手机无法开机，并一直在MI-黑屏-MI间反复横跳。与店家沟通后对方表示必须要寄回去确认手机问题非用户导致后才能发新机子。好家伙，等新手机邮到估计就半个月后了，于是京东又花了几乎是这台手机一半的价钱买了块新电池(＠￣ー￣＠)。从换完电池到现在已经过了一周多，刷了浩劫并把手机从毛胚房一步步搭建起来，乐趣还是很大的，于是来记录一下。  

&ensp;&ensp;&ensp;&ensp;选择小米4的原因是因为它————便宜，作为备用机很够用的3+64配置只需要130块左右（虽然加上电池快两百了），火龙801在即将到来的冬天也能带来不少温暖（。另外最主要的原因是因为，这机子生态太好了。作为一代刷机小王子，它没有bl锁，并有着非常多的刷机包，国内定制rom的miui、flyme，类原生的exThmUI、crDroidAndroid、dotOS、PixelExperience，lineageOS等等等等。当然，缺点也是有的，801这颗32位处理器已经跟不上时代了，在已经到来的安卓12里，谷歌将停止对32位应用的支持，所以小米4不会有安卓12甚至之后的rom了。但现有rom的量之大仍然不影响它的可玩性。  

&ensp;&ensp;&ensp;&ensp;于是在经过几天的玩耍后，我选择了havosOS 4.8这个相对稳定的系统。考虑到我只把这台手机当成戒网机：看小说，听歌，看视频，玩galgame...并没有太多需求，所以只需要个简洁但稳定的系统。  

### 刷入HavocOS，twrp及magisk
&ensp;&ensp;&ensp;&ensp;1、下载[HavocOS4.8](https://t.me/cancrorom)（tg频道下载，我没找到其他下载方式），[twrp](https://dl.twrp.me/cancro/)，[magisk](https://github.com/topjohnwu/Magisk/releases/tag/v23.0)，[gapps](https://androidfilehost.com/?fid=2188818919693781602)。  
&ensp;&ensp;&ensp;&ensp;2、将这四个文件用数据线复制到手机储存中，电脑中保留twrp.img  
&ensp;&ensp;&ensp;&ensp;3、电脑安装[adb](https://developer.android.com/studio/command-line/adb)，手机进入bootloader，并用数据线连接
&ensp;&ensp;&ensp;&ensp;4、电脑打开cmd并输入指令：
&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;`adb devices`
&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;`fastboot flash boot twrp.img的绝对位置`
&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;`fastboot reboot`
&ensp;&ensp;&ensp;&ensp;5、手机会进入twrp界面
&ensp;&ensp;&ensp;&ensp;6、按如下步骤操作：
&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;三清---->刷入rom包---->刷入magisk---->刷入gapps---->刷入twrp镜像---->重启到系统
&ensp;&ensp;&ensp;&ensp;*注：不需要谷歌框架的可以不刷入gapps*  
&ensp;&ensp;&ensp;&ensp;刷其他rom的只要将rom包换掉就好，操作流程都是一样的。  

&ensp;&ensp;&ensp;&ensp;**特别注意：**
- 当系统是第三方rom且想刷另一个第三方rom时，不要直接刷入，要先退回最新版的miui，再按照这种方法刷入。
- 当系统是第三方rom且想升级该rom的新版本时，可直接刷入，但不可跨级刷入。如浩劫3.2升浩劫3.4可直接刷，但浩劫3.2升浩劫4.8则需要三清。
- 当系统降级时，需要三清。

### 使用全面屏手势
&ensp;&ensp;&ensp;&ensp;我先是按照rom包发送者给出的方法试了试：`add qemu.hw.mainkeys=0 in /system/build.prop, and restart`，果不其然卡米了...仔细想想我修改build.prop好像就没成功过（。之后选择刷入magisk模块：`Fullscreen/Immersive Gestures(Q-S)`，在magisk库中直接搜索就好，还是刷模块稳点（

### 应用推荐
**小窗应用：**[米窗](https://www.coolapk.com/apk/com.sunshine.freeform)  
**视频播放器：**[MX播放器](https://play.google.com/store/apps/details?id=com.mxtech.videoplayer.ad
)，[VLC](https://play.google.com/store/apps/details?id=org.videolan.vlc)
**音乐播放器：**[Retro Music](https://play.google.com/store/apps/details?id=code.name.monkey.retromusic)
**文本阅读器：**[静读天下](https://play.google.com/store/apps/details?id=com.flyersoft.moonreader)
**文件浏览器：**[MT管理器](https://www.coolapk.com/apk/bin.mt.plus)，[Root Explorer](https://play.google.com/store/apps/details?id=com.speedsoftware.rootexplorer)
**系统主题：**[flux white](https://play.google.com/store/apps/details?id=flux.white.substratum)
**备份工具：**[swift backup](https://play.google.com/store/apps/details?id=org.swiftapps.swiftbackup)
**压缩包工具：**[ZArchiver](https://play.google.com/store/apps/details?id=ru.zdevs.zarchiver)
**垃圾清理：**[SD Maid](https://play.google.com/store/apps/details?id=eu.thedarken.sdm)
**下载工具：**[idm+](https://play.google.com/store/apps/details?id=idm.internet.download.manager.plus)
**其他：**[全局负一屏](https://www.coolapk.com/apk/com.example.xf.negativeonescreen.pro
)搭配[KWGT](https://play.google.com/store/apps/details?id=org.kustom.widget)使用有奇效
&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;[幸运破解器](https://www.luckypatchers.com/download/)
&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;[一加桌面](https://www.pling.com/p/1451515)(magisk模块)

### 如何应对国产毒瘤
&ensp;&ensp;&ensp;&ensp;我这台小米4因为用来戒网，所以不会下太多的国产毒瘤应用，但是可以跟着这个思路来。
&ensp;&ensp;&ensp;&ensp;1、使用play版本，或者旧版本。因为Google的硬性要求，大部分上架play商店的应用在授权要求上相比于国内安卓市场要温和一些。但最近爆出的淘宝事件来看...，play版也不是绝对安全。一句话，要么不下载，要么做好被强奸的心理准备。或者考虑以下方法（不能完全保证不被强奸）。
&ensp;&ensp;&ensp;&ensp;2、root后使用专门的模块或应用来限制毒瘤软件。
- [存储空间隔离](https://www.coolapk.com/apk/moe.shizuku.redirectstorage
)用于限制软件可访问的文件及文件夹。
- [AppOps](https://play.google.com/store/apps/details?id=rikka.appops)用于管理软件权限，一定程度上避免权限强奸。
- [MyAndroidTools](https://www.coolapk.com/apk/cn.wq.myandroidtools
)关闭软件所有广播，用于阻止软件间互相启动。
- [绿色守护](https://play.google.com/store/apps/details?id=com.oasisfeng.greenify
)或者[Thanox](https://play.google.com/store/apps/details?id=github.tornaco.android.thanos.pro
)的乖巧模式，用于压制软件后台。
- 对于实在无法压制后台的软件，可以考虑[冰箱](https://play.google.com/store/apps/details?id=com.catchingnow.icebox
)，[Thanox](https://play.google.com/store/apps/details?id=github.tornaco.android.thanos.pro
)的智能冻结，[小黑屋](https://play.google.com/store/apps/details?id=web1n.stopapp)等软件冻结应用

### 系统bug
1. 全面屏手势无法使用侧滑手势
2. 系统导航设置每次开机都会重置
3. 打开某些应用时会卡住然后自动重启
4. 安卓11彩蛋显示不完全（
5. 其他暂未发现

### 截图
系统版本与不完全的安卓11彩蛋
![](s1.png)

推荐的阅读与播放器，以及感谢KindBrave大佬让我们能在类原生系统上用小窗
![](s2.png)

无处不在的我老婆与用全局负一屏+kwgt做的图墙
![](s3.png)![](s4.png)
